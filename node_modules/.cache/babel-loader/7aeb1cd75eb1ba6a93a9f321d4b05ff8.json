{"ast":null,"code":"var _jsxFileName = \"/home/italorennan/csc03FrontEnd/src/sections/Local/Login.js\";\nimport React, { useState, useContext } from 'react';\nimport { LoginContainer, Button, ErrorLoginMessage } from '../../pages/Local/styles';\nimport LoginContext from '../../pages/Local/context';\nimport api from '../../services/api';\n\nfunction Login() {\n  const [state, setState] = useState({\n    storeNumber: 1,\n    accessCode: \"\",\n    loginError: false\n  });\n  const {\n    handleAccess,\n    setStoreNumber\n  } = useContext(LoginContext);\n  const localCode = \"temp\"; // temporário -> integrar back                                    \n\n  async function handleLogin() {\n    const tryAccess = {\n      storeNumber: state.storeNumber,\n      accessCode: state.accessCode\n    };\n    var storeData = await api.post('/store/login', JSON.stringify(tryAccess), {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log(storeData);\n    /*if (state.accessCode === localCode) {\n        setStoreNumber(state.storeNumber);\n        handleAccess();\n    }\n    else setState({...state, loginError: true});*/\n  }\n\n  return /*#__PURE__*/React.createElement(LoginContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Fluxo de clientes\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Lojas Brasil\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"N\\xFAmero da loja\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStore\",\n    type: \"number\",\n    onChange: e => setState({ ...state,\n      storeNumber: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"C\\xF3digo de acesso\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputCode\",\n    type: \"password\",\n    onChange: e => setState({ ...state,\n      accessCode: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"enter\",\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Entrar\"), state.loginError ? /*#__PURE__*/React.createElement(ErrorLoginMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Acesso inv\\xE1lido.\") : /*#__PURE__*/React.createElement(React.Fragment, null));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/italorennan/csc03FrontEnd/src/sections/Local/Login.js"],"names":["React","useState","useContext","LoginContainer","Button","ErrorLoginMessage","LoginContext","api","Login","state","setState","storeNumber","accessCode","loginError","handleAccess","setStoreNumber","localCode","handleLogin","tryAccess","storeData","post","JSON","stringify","headers","console","log","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,cAAT,EAAyBC,MAAzB,EAAiCC,iBAAjC,QAA0D,0BAA1D;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC;AAACU,IAAAA,WAAW,EAAE,CAAd;AACCC,IAAAA,UAAU,EAAE,EADb;AAECC,IAAAA,UAAU,EAAE;AAFb,GAAD,CAAlC;AAGA,QAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAAmCb,UAAU,CAACI,YAAD,CAAnD;AACA,QAAMU,SAAS,GAAG,MAAlB,CALa,CAKa;;AAE1B,iBAAeC,WAAf,GAA6B;AACzB,UAAMC,SAAS,GAAG;AACdP,MAAAA,WAAW,EAAEF,KAAK,CAACE,WADL;AAEdC,MAAAA,UAAU,EAAEH,KAAK,CAACG;AAFJ,KAAlB;AAKA,QAAIO,SAAS,GAAG,MAAMZ,GAAG,CAACa,IAAJ,CAAS,cAAT,EAClBC,IAAI,CAACC,SAAL,CAAeJ,SAAf,CADkB,EACS;AAAEK,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAX,KADT,CAAtB;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AAIA;;;;;AAKH;;AAED,sBACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAJJ,eAKI;AAAO,IAAA,SAAS,EAAC,YAAjB;AAA8B,IAAA,IAAI,EAAC,QAAnC;AAA4C,IAAA,QAAQ,EAAEO,CAAC,IAAIhB,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWE,MAAAA,WAAW,EAAEe,CAAC,CAACC,MAAF,CAASC;AAAjC,KAAD,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BANJ,eAOI;AAAO,IAAA,SAAS,EAAC,WAAjB;AAA6B,IAAA,IAAI,EAAC,UAAlC;AAA6C,IAAA,QAAQ,EAAEF,CAAC,IAAIhB,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAWG,MAAAA,UAAU,EAAEc,CAAC,CAACC,MAAF,CAASC;AAAhC,KAAD,CAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eASI,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,OAAlB;AAA0B,IAAA,OAAO,EAAEX,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,EAUKR,KAAK,CAACI,UAAN,gBACD,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADC,gBAEC,yCAZN,CADJ;AAgBH;;AAED,eAAeL,KAAf","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { LoginContainer, Button, ErrorLoginMessage } from '../../pages/Local/styles';\nimport LoginContext from '../../pages/Local/context';\nimport api from '../../services/api';\n\nfunction Login() {\n    const [state, setState] = useState({storeNumber: 1,\n                                        accessCode: \"\",\n                                        loginError: false});\n    const { handleAccess, setStoreNumber } = useContext(LoginContext);\n    const localCode = \"temp\"; // temporário -> integrar back                                    \n\n    async function handleLogin() {\n        const tryAccess = {\n            storeNumber: state.storeNumber,\n            accessCode: state.accessCode\n        }\n\n        var storeData = await api.post('/store/login',\n            JSON.stringify(tryAccess), { headers: { 'Content-Type': 'application/json' }}\n        );\n\n        console.log(storeData);\n\n        \n\n        /*if (state.accessCode === localCode) {\n            setStoreNumber(state.storeNumber);\n            handleAccess();\n        }\n        else setState({...state, loginError: true});*/\n    }\n\n    return (\n        <LoginContainer>\n            <h1>Fluxo de clientes</h1>\n            <h2>Lojas Brasil</h2>\n            <h3>Login</h3>\n            <h4>Número da loja</h4>\n            <input className=\"inputStore\" type=\"number\" onChange={e => setState({...state, storeNumber: e.target.value})}/>\n            <h4>Código de acesso</h4>\n            <input className=\"inputCode\" type=\"password\" onChange={e => setState({...state, accessCode: e.target.value})} />\n\n            <Button className=\"enter\" onClick={handleLogin}>Entrar</Button>\n            {state.loginError ?\n            <ErrorLoginMessage>Acesso inválido.</ErrorLoginMessage>\n            : <></>}\n        </LoginContainer>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}