{"ast":null,"code":"var _jsxFileName = \"/home/italorennan/csc03FrontEnd/src/sections/Global/InputData.js\";\nimport React, { useState, useContext } from 'react';\nimport GlobalContext from '../../pages/Global/context';\nimport { Section, TextSection, Button, LoginContainer } from '../../pages/Global/styles';\nimport api from '../../services/api';\n\nfunction InputData() {\n  const {\n    storesData\n  } = useContext(GlobalContext);\n  const [state, setState] = useState({\n    section: 0,\n    storesData: storesData,\n    updateStore: undefined,\n    newName: '',\n    newAccessCode: ''\n  }); // Salvar no DB\n\n  async function handleUpdate() {\n    if (state.newName !== '' && state.newAccessCode !== '') {\n      const newStore = {\n        storeName: state.newName,\n        storeNumber: state.updateStore.storeNumber,\n        accessCode: state.newAccessCode\n      };\n      await api.put('/store/update', JSON.stringify(newStore), {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var newStoresData = await api.get('/store/getAll');\n      setState({ ...state,\n        storesData: newStoresData.data.storeList,\n        updateStore: undefined,\n        newName: '',\n        newAcessCode: '',\n        section: 0\n      });\n    }\n  } // Salvar no DB\n\n\n  async function handleCreate() {\n    if (state.newName !== '' && state.newAccessCode !== '') {\n      const newStore = {\n        storeName: state.newName,\n        accessCode: state.newAccessCode\n      };\n      await api.post('/store/create', JSON.stringify(newStore), {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      var newStoresData = await api.get('/store/getAll');\n      setState({ ...state,\n        storesData: newStoresData.data.storeList,\n        newName: '',\n        newAcessCode: '',\n        section: 0\n      });\n    }\n  }\n\n  function mainData() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, state.storesData.map(store => /*#__PURE__*/React.createElement(Section, {\n      key: store.storeNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 34\n      }\n    }, \"Loja \", store.storeNumber, \":\")), /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, store.storeName), /*#__PURE__*/React.createElement(Button, {\n      className: \"updateStore\",\n      onClick: () => {\n        setState({ ...state,\n          updateStore: store,\n          section: 1\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"Atualizar\"))), /*#__PURE__*/React.createElement(Button, {\n      className: \"createStore\",\n      onClick: () => {\n        setState({ ...state,\n          section: 2\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, \"Nova loja\"), console.log(state.storesData));\n  }\n\n  function updateStore() {\n    return /*#__PURE__*/React.createElement(LoginContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"Atualizar dados\"), /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 30\n      }\n    }, \"Nome da loja\")), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      onChange: e => {\n        setState({ ...state,\n          newName: e.target.value\n        });\n      },\n      placeholder: state.updateStore.storeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 30\n      }\n    }, \"C\\xF3digo de acesso local\")), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"password\",\n      onChange: e => {\n        setState({ ...state,\n          newAccessCode: e.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: \"saveStoreUpdate\",\n      onClick: handleUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"Salvar\"));\n  }\n\n  function createStore() {\n    return /*#__PURE__*/React.createElement(LoginContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"Adicionar nova loja\"), /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 30\n      }\n    }, \"Nome da loja\")), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"text\",\n      onChange: e => {\n        setState({ ...state,\n          newName: e.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextSection, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 30\n      }\n    }, \"C\\xF3digo de acesso local\")), /*#__PURE__*/React.createElement(\"input\", {\n      required: true,\n      type: \"password\",\n      onChange: e => {\n        setState({ ...state,\n          newAccessCode: e.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: \"saveNewStore\",\n      onClick: handleCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Salvar\"));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, state.section === 0 ? mainData() : state.section === 1 ? updateStore() : createStore());\n}\n\nexport default InputData;","map":{"version":3,"sources":["/home/italorennan/csc03FrontEnd/src/sections/Global/InputData.js"],"names":["React","useState","useContext","GlobalContext","Section","TextSection","Button","LoginContainer","api","InputData","storesData","state","setState","section","updateStore","undefined","newName","newAccessCode","handleUpdate","newStore","storeName","storeNumber","accessCode","put","JSON","stringify","headers","newStoresData","get","data","storeList","newAcessCode","handleCreate","post","mainData","map","store","console","log","e","target","value","createStore"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport GlobalContext from '../../pages/Global/context';\nimport { Section, TextSection, Button, LoginContainer } from '../../pages/Global/styles';\nimport api from '../../services/api';\n\nfunction InputData() {\n    const { storesData } = useContext(GlobalContext);\n\n    const [state, setState] = useState({section: 0,\n                                        storesData: storesData,\n                                        updateStore: undefined,\n                                        newName: '',\n                                        newAccessCode: ''});\n\n    // Salvar no DB\n    async function handleUpdate() {\n        if (state.newName !== '' && state.newAccessCode !== '') {\n            const newStore = {\n                storeName: state.newName,\n                storeNumber: state.updateStore.storeNumber,\n                accessCode: state.newAccessCode\n            };\n\n            await api.put('/store/update',\n                JSON.stringify(newStore), { headers: { 'Content-Type': 'application/json' }}\n            );\n\n            var newStoresData = await api.get('/store/getAll');\n\n            setState({...state, storesData: newStoresData.data.storeList, updateStore: undefined, newName: '', newAcessCode: '', section: 0});\n        }\n    }\n\n    // Salvar no DB\n    async function handleCreate() {\n        if (state.newName !== '' && state.newAccessCode !== '') {\n            const newStore = {\n                storeName: state.newName,\n                accessCode: state.newAccessCode\n            };\n\n            await api.post('/store/create',\n                JSON.stringify(newStore), { headers: { 'Content-Type': 'application/json' }}\n            );\n\n            var newStoresData = await api.get('/store/getAll');\n\n            setState({...state, storesData: newStoresData.data.storeList, newName: '', newAcessCode: '', section: 0});\n        }\n    }\n\n    function mainData() {\n        return (\n            <>\n            {state.storesData.map((store) => (\n                <Section key={store.storeNumber}>\n                    <TextSection><span>Loja {store.storeNumber}:</span></TextSection>\n                    <TextSection>{store.storeName}</TextSection>\n                    <Button className=\"updateStore\" onClick={() => {setState({...state, updateStore: store, section: 1})}}>Atualizar</Button>\n                </Section>\n            ))}\n            <Button className=\"createStore\" onClick={() => {setState({...state, section: 2})}}>Nova loja</Button>\n            {console.log(state.storesData)}\n            </>\n        );\n    }\n\n    function updateStore() {\n        return (\n            <LoginContainer>\n                <h2>Atualizar dados</h2>\n                <TextSection><span>Nome da loja</span></TextSection>\n                <input required type=\"text\" onChange={e => {setState({...state, newName: e.target.value})}} placeholder={state.updateStore.storeName}/>\n                <TextSection><span>Código de acesso local</span></TextSection>\n                <input required type=\"password\" onChange={e => {setState({...state, newAccessCode: e.target.value})}}/>\n                <Button className=\"saveStoreUpdate\" onClick={handleUpdate}>Salvar</Button>\n            </LoginContainer>\n        );\n    }\n\n    function createStore() {\n        return (\n            <LoginContainer>\n                <h2>Adicionar nova loja</h2>\n                <TextSection><span>Nome da loja</span></TextSection>\n                <input required type=\"text\" onChange={e => {setState({...state, newName: e.target.value})}} />\n                <TextSection><span>Código de acesso local</span></TextSection>\n                <input required type=\"password\" onChange={e => {setState({...state, newAccessCode: e.target.value})}} />\n                <Button className=\"saveNewStore\" onClick={handleCreate}>Salvar</Button>\n            </LoginContainer>\n        );\n    }\n\n    return (\n        <>\n        {state.section === 0 ? mainData()\n        : (state.section === 1 ? updateStore()\n        : createStore())}\n        </>\n    );\n}\n\nexport default InputData;"]},"metadata":{},"sourceType":"module"}