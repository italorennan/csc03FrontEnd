{"ast":null,"code":"var _jsxFileName = \"/home/italorennan/csc03FrontEnd/src/sections/Local/Statistics.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Section, Text, SubText, TextSection, Button, AllGraphSection, GraphSection, HintDiv, MainHeaderTableCell, SubHeaderTableCell, BodyTableCell, Title, StyledTablePagination } from '../../pages/Local/styles';\nimport { XYPlot, LineSeries, LineMarkSeries, XAxis, YAxis, Hint } from 'react-vis';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\nimport 'react-vis/dist/style.css';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useRowStyles = makeStyles({\n  root: {\n    '& > *': {\n      borderBottom: 'unset'\n    }\n  }\n});\nconst useStyles = makeStyles({\n  root: {\n    width: '100%'\n  },\n  container: {\n    maxHeight: '100%'\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1\n  }\n});\n\nfunction Statistics() {\n  const [state, setState] = useState({\n    minDate: new Date(new Date(Date.now()).getFullYear(), new Date(Date.now()).getMonth(), new Date(Date.now()).getDate(), 0, 0, 0, 0),\n    maxDate: new Date(new Date(Date.now()).getFullYear(), new Date(Date.now()).getMonth(), new Date(Date.now()).getDate(), 23, 59, 59, 999),\n    clicked: false,\n    timeScale: \"hours\",\n    events: [],\n    firstData: [],\n    secondData: [],\n    labels: [],\n    firstMaxY: 0,\n    secondMaxY: 0,\n    overFirstGraph: false,\n    overSecondGraph: false,\n    graphsExplanation: false\n  });\n  useEffect(() => {\n    if (!state.clicked) getData(state.minDate, state.maxDate);\n  });\n  const monthName = [\"Janeiro\", \"Fevereiro\", \"MarÃ§o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"];\n\n  const handleMinDate = date => {\n    const timeDif = state.maxDate - date;\n\n    if (timeDif > 0) {\n      //setState({...state, minDate: date});\n      getData(date, state.maxDate);\n    }\n  };\n\n  const handleMaxDate = date => {\n    const timeDif = date - state.minDate;\n\n    if (timeDif > 0) {\n      //setState({...state, maxDate: date});\n      getData(state.minDate, date);\n    }\n  };\n\n  const getData = (minDate, maxDate) => {\n    // Puxar dados do DB\n    const newEvents = [{\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 10)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 10, 30)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 10)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 11, 30)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 10)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 12, 30)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 10)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 13, 30)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 10)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 10, 20)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 11)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 11, 20)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 11)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 14, 20)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 5, 30, 12)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 5, 30, 13, 20)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 4, 30)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 3, 30)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 3, 30)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 3, 15)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 3, 7)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 10)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 14)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 20)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 2, 2)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 14)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 14)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 14)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 13)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 15)\n    }, {\n      eventType: \"entry\",\n      createdAt: new Date(2020, 2, 15)\n    }, {\n      eventType: \"exit\",\n      createdAt: new Date(2020, 2, 16)\n    }];\n    const timeDif = maxDate - minDate;\n    if (timeDif < 7200000) setState({ ...state,\n      clicked: true,\n      minDate: minDate,\n      maxDate: maxDate,\n      events: newEvents,\n      timeScale: \"minutes\"\n    });else if (timeDif < 86400000) setState({ ...state,\n      clicked: true,\n      minDate: minDate,\n      maxDate: maxDate,\n      events: newEvents,\n      timeScale: \"hours\"\n    });else if (timeDif < 5259600000) setState({ ...state,\n      clicked: true,\n      minDate: minDate,\n      maxDate: maxDate,\n      events: newEvents,\n      timeScale: \"days\"\n    });else setState({ ...state,\n      clicked: true,\n      minDate: minDate,\n      maxDate: maxDate,\n      events: newEvents,\n      timeScale: \"months\"\n    });\n  };\n\n  const handleUpdate = () => {\n    switch (state.timeScale) {\n      case \"minutes\":\n        filterMinutesData();\n        break;\n\n      case \"hours\":\n        filterHoursData();\n        break;\n\n      case \"days\":\n        filterDaysData();\n        break;\n\n      case \"months\":\n        filterMonthsData();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const filterMinutesData = () => {\n    const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), state.minDate.getHours(), state.minDate.getMinutes(), 0, 0);\n    const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), state.maxDate.getHours(), state.maxDate.getMinutes(), 0, 0);\n    const periods = Math.ceil((finalData - initialData) / 600000);\n    var newFirstData = [];\n    var newSecondData = [];\n    var newLabels = [];\n    var newFirstMaxY = 0;\n    var total = 0;\n\n    const filter = (value, year, month, day, hour, minute) => {\n      return state.events.filter(el => el.eventType === value && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month && el.createdAt.getDate() === day && el.createdAt.getHours() * 60 + el.createdAt.getMinutes() < hour * 60 + minute);\n    };\n\n    for (var i = 0; i < periods; i++) {\n      var year = state.minDate.getFullYear();\n      var month = state.minDate.getMonth();\n      var day = state.minDate.getDate();\n      var hour = state.minDate.getHours();\n      var minute = state.minDate.getMinutes() + 10 * i;\n      var date = new Date(year, month, day, hour, minute, 0, 0);\n      year = date.getFullYear();\n      month = date.getMonth();\n      day = date.getDate();\n      hour = date.getHours();\n      minute = date.getMinutes();\n      var minuteString = minute.toString();\n      if (minute < 10) minuteString = \"0\" + minuteString;\n      newLabels.push(hour.toString() + \":\" + minuteString);\n      const exits = filter(\"exit\", year, month, day, hour, minute);\n      minute += 10;\n\n      if (minute >= 60) {\n        hour += 1;\n        minute = minute % 60;\n      }\n\n      const entrys = filter(\"entry\", year, month, day, hour, minute);\n      const numberEvents = entrys.length - exits.length;\n      newFirstData.push({\n        x: i,\n        y: numberEvents\n      });\n      total = entrys.length;\n      newSecondData.push({\n        x: i,\n        y: total\n      });\n      if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n    }\n\n    setState({ ...state,\n      firstData: newFirstData,\n      secondData: newSecondData,\n      labels: newLabels,\n      firstMaxY: newFirstMaxY + 1,\n      secondMaxY: total + 1\n    });\n  };\n\n  const filterHoursData = () => {\n    const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), state.minDate.getHours(), 0, 0, 0);\n    const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), state.maxDate.getHours(), 1, 0, 0);\n    const periods = Math.ceil((finalData - initialData) / 3600000);\n    var newFirstData = [];\n    var newSecondData = [];\n    var newLabels = [];\n    var newFirstMaxY = 0;\n    var total = 0;\n\n    const filter = (value, year, month, day, hour) => {\n      return state.events.filter(el => el.eventType === value && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month && el.createdAt.getDate() === day && el.createdAt.getHours() < hour);\n    };\n\n    for (var i = 0; i < periods; i++) {\n      var year = state.minDate.getFullYear();\n      var month = state.minDate.getMonth();\n      var day = state.minDate.getDate();\n      var hour = state.minDate.getHours() + i;\n      var date = new Date(year, month, day, hour, 0, 0, 0);\n      year = date.getFullYear();\n      month = date.getMonth();\n      day = date.getDate();\n      hour = date.getHours();\n      const exits = filter(\"exit\", year, month, day, hour);\n      const entrys = filter(\"entry\", year, month, day, hour + 1);\n      const numberEvents = entrys.length - exits.length;\n      newFirstData.push({\n        x: i,\n        y: numberEvents\n      });\n      newLabels.push(hour.toString() + \":00\");\n      total = entrys.length;\n      newSecondData.push({\n        x: i,\n        y: total\n      });\n      if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n    }\n\n    setState({ ...state,\n      firstData: newFirstData,\n      secondData: newSecondData,\n      labels: newLabels,\n      firstMaxY: newFirstMaxY + 1,\n      secondMaxY: total + 1\n    });\n  };\n\n  const filterDaysData = () => {\n    const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), 0, 0, 0, 0);\n    const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), 1, 0, 0, 0);\n    const periods = Math.ceil((finalData - initialData) / 86400000);\n    var newFirstData = [];\n    var newSecondData = [];\n    var newLabels = [];\n    var newFirstMaxY = 0;\n    var total = 0;\n\n    const filter = (year, month, day) => {\n      return state.events.filter(el => el.eventType === \"entry\" && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month && el.createdAt.getDate() === day);\n    };\n\n    for (var i = 0; i < periods; i++) {\n      var year = state.minDate.getFullYear();\n      var month = state.minDate.getMonth();\n      var day = state.minDate.getDate() + i;\n      var date = new Date(year, month, day);\n      year = date.getFullYear();\n      month = date.getMonth();\n      day = date.getDate();\n      const newEvents = filter(year, month, day);\n      const numberEvents = newEvents.length;\n      newFirstData.push({\n        x: i,\n        y: numberEvents\n      });\n      newLabels.push(day.toString() + \" de \" + monthName[month]);\n      total += numberEvents;\n      newSecondData.push({\n        x: i,\n        y: total\n      });\n      if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n    }\n\n    setState({ ...state,\n      firstData: newFirstData,\n      secondData: newSecondData,\n      labels: newLabels,\n      firstMaxY: newFirstMaxY + 1,\n      secondMaxY: total + 1\n    });\n  };\n\n  const filterMonthsData = () => {\n    const periods = (state.maxDate.getFullYear() - state.minDate.getFullYear()) * 12 + (state.maxDate.getMonth() - state.minDate.getMonth()) + 1;\n    var newFirstData = [];\n    var newSecondData = [];\n    var newLabels = [];\n    var newFirstMaxY = 0;\n    var total = 0;\n\n    const filter = (year, month) => {\n      return state.events.filter(el => el.eventType === \"entry\" && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month);\n    };\n\n    for (var i = 0; i < periods; i++) {\n      var year = state.minDate.getFullYear();\n      var month = state.minDate.getMonth() + i;\n\n      if (month >= 12) {\n        year += Math.floor(month / 12);\n        month = month % 12;\n      }\n\n      const newEvents = filter(year, month);\n      const numberEvents = newEvents.length;\n      newFirstData.push({\n        x: i,\n        y: numberEvents\n      });\n      newLabels.push(monthName[month] + \" de \" + year.toString());\n      total += numberEvents;\n      newSecondData.push({\n        x: i,\n        y: total\n      });\n      if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n    }\n\n    setState({ ...state,\n      firstData: newFirstData,\n      secondData: newSecondData,\n      labels: newLabels,\n      firstMaxY: newFirstMaxY + 1,\n      secondMaxY: total + 1\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 15\n    }\n  }, \"Selecionar per\\xEDodo de visualiza\\xE7\\xE3o:\")), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: DateFnsUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(KeyboardDateTimePicker, {\n    variant: \"inline\",\n    ampm: false,\n    label: \"Limite inferior\",\n    value: state.minDate,\n    format: \"dd/MM/yyyy HH:mm\",\n    onChange: handleMinDate,\n    disableFuture: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(KeyboardDateTimePicker, {\n    variant: \"inline\",\n    ampm: false,\n    label: \"Limite superior\",\n    value: state.maxDate,\n    format: \"dd/MM/yyyy HH:mm\",\n    onChange: handleMaxDate,\n    disableFuture: true,\n    minDate: state.minDate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"updateStatistics\",\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, \"Atualizar\"), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 26\n    }\n  }, \"Gr\\xE1ficos\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setState({ ...state,\n        graphsExplanation: !state.graphsExplanation\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, \"?\")), state.graphsExplanation ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SubText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 11\n    }\n  }, \"O primeiro gr\\xE1fico mostra a quantidade de clientes em cada per\\xEDodo de tempo, enquanto o segundo mostra o acumulado dessa quantidade ao longo do tempo.\"), /*#__PURE__*/React.createElement(SubText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 9\n    }\n  }, \"O tamanho dos per\\xEDodos \\xE9 calculado automaticamente a partir do intervalo de visualiza\\xE7\\xE3o definido. Para intervalos de at\\xE9 2 horas, os per\\xEDodos s\\xE3o de 10 minutos; para at\\xE9 1 dia, s\\xE3o de 1 hora. Nesses casos, o primeiro gr\\xE1fico mostra a quantidade de clientes dentro da loja em cada momento. Para intervalos de at\\xE9 2 meses, os per\\xEDodos s\\xE3o de 1 dia; para intervalos maiores, s\\xE3o de 1 m\\xEAs. Nesses casos, o primeiro gr\\xE1fico mostra a quantidade de clientes que passaram pela loja no per\\xEDodo.\")) : /*#__PURE__*/React.createElement(React.Fragment, null), /*#__PURE__*/React.createElement(AllGraphSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GraphSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }, \"Quantidade de clientes por per\\xEDodo\"), /*#__PURE__*/React.createElement(XYPlot, {\n    width: 550,\n    height: 400,\n    margin: {\n      left: 80,\n      bottom: 100\n    },\n    yDomain: [0, state.firstMaxY],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    title: 'PerÃ­odo',\n    on0: true,\n    tickTotal: state.firstData.length,\n    tickLabelAngle: -45,\n    tickFormat: v => state.labels[v],\n    style: {\n      text: {\n        stroke: 'none',\n        fill: '#555555',\n        fontWeight: 200\n      },\n      line: {\n        stroke: '#aaaaaa'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    title: 'Clientes',\n    on0: true,\n    style: {\n      text: {\n        stroke: 'none',\n        fill: '#555555',\n        fontWeight: 200\n      },\n      line: {\n        stroke: '#aaaaaa'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(LineMarkSeries, {\n    className: \"series\",\n    data: state.firstData,\n    style: {\n      strokeWidth: '3px'\n    },\n    size: 2,\n    lineStyle: {\n      stroke: '#000066'\n    },\n    markStyle: {\n      stroke: '#009999'\n    },\n    onValueMouseOver: d => setState({ ...state,\n      overFirstGraph: d\n    }),\n    onValueMouseOut: d => setState({ ...state,\n      overFirstGraph: false\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 21\n    }\n  }), state.overFirstGraph && /*#__PURE__*/React.createElement(Hint, {\n    value: state.overFirstGraph,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HintDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 32\n    }\n  }, \"Per\\xEDodo:\"), \" \", state.labels[state.overFirstGraph.x]), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 32\n    }\n  }, \"Total de clientes:\"), \" \", state.overFirstGraph.y))))), /*#__PURE__*/React.createElement(GraphSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }\n  }, \"Quantidade acumulada de clientes\"), /*#__PURE__*/React.createElement(XYPlot, {\n    width: 550,\n    height: 400,\n    margin: {\n      left: 80,\n      bottom: 100\n    },\n    yDomain: [0, state.secondMaxY],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    title: 'PerÃ­odo',\n    on0: true,\n    tickTotal: state.secondData.length,\n    tickLabelAngle: -45,\n    tickFormat: v => state.labels[v],\n    style: {\n      text: {\n        stroke: 'none',\n        fill: '#555555',\n        fontWeight: 200\n      },\n      line: {\n        stroke: '#aaaaaa'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    title: 'Clientes',\n    on0: true,\n    style: {\n      text: {\n        stroke: 'none',\n        fill: '#555555',\n        fontWeight: 200\n      },\n      line: {\n        stroke: '#aaaaaa'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(LineMarkSeries, {\n    className: \"series\",\n    data: state.secondData,\n    style: {\n      strokeWidth: '3px'\n    },\n    size: 2,\n    lineStyle: {\n      stroke: '#000066'\n    },\n    markStyle: {\n      stroke: '#009999'\n    },\n    onValueMouseOver: d => setState({ ...state,\n      overSecondGraph: d\n    }),\n    onValueMouseOut: d => setState({ ...state,\n      overSecondGraph: false\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 21\n    }\n  }), state.overSecondGraph && /*#__PURE__*/React.createElement(Hint, {\n    value: state.overSecondGraph,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(HintDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 32\n    }\n  }, \"Per\\xEDodo:\"), \" \", state.labels[state.overSecondGraph.x]), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 32\n    }\n  }, \"Total de clientes acumulado:\"), \" \", state.overSecondGraph.y)))))), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 15\n    }\n  }, \"Tabelas\")), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 15\n    }\n  }, \"Indicadores\")), console.log(state));\n}\n\nexport default Statistics;","map":{"version":3,"sources":["/home/italorennan/csc03FrontEnd/src/sections/Local/Statistics.js"],"names":["React","useState","useEffect","Section","Text","SubText","TextSection","Button","AllGraphSection","GraphSection","HintDiv","MainHeaderTableCell","SubHeaderTableCell","BodyTableCell","Title","StyledTablePagination","XYPlot","LineSeries","LineMarkSeries","XAxis","YAxis","Hint","DateFnsUtils","MuiPickersUtilsProvider","KeyboardDateTimePicker","makeStyles","useRowStyles","root","borderBottom","useStyles","width","container","maxHeight","visuallyHidden","border","clip","height","margin","overflow","padding","position","top","Statistics","state","setState","minDate","Date","now","getFullYear","getMonth","getDate","maxDate","clicked","timeScale","events","firstData","secondData","labels","firstMaxY","secondMaxY","overFirstGraph","overSecondGraph","graphsExplanation","getData","monthName","handleMinDate","date","timeDif","handleMaxDate","newEvents","eventType","createdAt","handleUpdate","filterMinutesData","filterHoursData","filterDaysData","filterMonthsData","initialData","getHours","getMinutes","finalData","periods","Math","ceil","newFirstData","newSecondData","newLabels","newFirstMaxY","total","filter","value","year","month","day","hour","minute","el","i","minuteString","toString","push","exits","entrys","numberEvents","length","x","y","floor","left","bottom","v","text","stroke","fill","fontWeight","line","strokeWidth","d","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Section, Text, SubText, TextSection, Button, AllGraphSection, GraphSection, HintDiv, MainHeaderTableCell, SubHeaderTableCell, BodyTableCell, Title, StyledTablePagination } from '../../pages/Local/styles';\nimport { XYPlot, LineSeries, LineMarkSeries, XAxis, YAxis, Hint } from 'react-vis';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from '@material-ui/pickers';\nimport 'react-vis/dist/style.css';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useRowStyles = makeStyles({\n    root: {\n        '& > *': {\n            borderBottom: 'unset',\n        },\n    },\n});\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n    },\n    container: {\n        maxHeight: '100%',\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    }\n});\n\nfunction Statistics() {\n    const [state, setState] = useState({minDate: new Date((new Date(Date.now())).getFullYear(), (new Date(Date.now())).getMonth(), (new Date(Date.now())).getDate(), 0, 0, 0, 0),\n                                        maxDate: new Date((new Date(Date.now())).getFullYear(), (new Date(Date.now())).getMonth(), (new Date(Date.now())).getDate(), 23, 59, 59, 999),\n                                        clicked: false,\n                                        timeScale: \"hours\",\n                                        events: [],\n                                        firstData: [],\n                                        secondData: [],\n                                        labels: [],\n                                        firstMaxY: 0,\n                                        secondMaxY: 0,\n                                        overFirstGraph: false,\n                                        overSecondGraph: false,\n                                        graphsExplanation: false});\n\n    useEffect(() => {\n        if (!state.clicked) getData(state.minDate, state.maxDate);\n    });\n\n    const monthName = [\"Janeiro\", \"Fevereiro\", \"MarÃ§o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"];\n\n    const handleMinDate = (date: Date | null) => {\n        const timeDif = state.maxDate - date;\n        if (timeDif > 0) {\n            //setState({...state, minDate: date});\n            getData(date, state.maxDate);\n        }\n    }\n\n    const handleMaxDate = (date: Date | null) => {\n        const timeDif = date - state.minDate;\n        if (timeDif > 0) {\n            //setState({...state, maxDate: date});\n            getData(state.minDate, date);\n        }\n    }\n\n    const getData = (minDate, maxDate) => {\n        // Puxar dados do DB\n        const newEvents = [\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 10)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 10, 30)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 10)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 11, 30)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 10)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 12, 30)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 10)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 13, 30)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 10)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 10, 20)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 11)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 11, 20)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 11)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 14, 20)},\n            {eventType: \"entry\", createdAt: new Date(2020, 5, 30, 12)},\n            {eventType: \"exit\", createdAt: new Date(2020, 5, 30, 13, 20)},\n            {eventType: \"entry\", createdAt: new Date(2020, 4, 30)},\n            {eventType: \"exit\", createdAt: new Date(2020, 3, 30)},\n            {eventType: \"entry\", createdAt: new Date(2020, 3, 30)},\n            {eventType: \"exit\", createdAt: new Date(2020, 3, 15)},\n            {eventType: \"entry\", createdAt: new Date(2020, 3, 7)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 10)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 14)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 20)},\n            {eventType: \"exit\", createdAt: new Date(2020, 2, 2)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 14)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 14)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 14)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 13)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 15)},\n            {eventType: \"entry\", createdAt: new Date(2020, 2, 15)},\n            {eventType: \"exit\", createdAt: new Date(2020, 2, 16)}\n        ];\n\n        const timeDif = maxDate - minDate;\n        if (timeDif < 7200000) setState({...state, clicked: true, minDate: minDate, maxDate: maxDate, events: newEvents, timeScale: \"minutes\"});\n        else if (timeDif < 86400000) setState({...state, clicked: true, minDate: minDate, maxDate: maxDate, events: newEvents, timeScale: \"hours\"});\n        else if (timeDif < 5259600000) setState({...state, clicked: true, minDate: minDate, maxDate: maxDate, events: newEvents, timeScale: \"days\"});\n        else setState({...state, clicked: true, minDate: minDate, maxDate: maxDate, events: newEvents, timeScale: \"months\"});\n    }\n\n    const handleUpdate = () => {\n        switch (state.timeScale) {\n            case \"minutes\": filterMinutesData(); break;\n            case \"hours\": filterHoursData(); break;\n            case \"days\": filterDaysData(); break;\n            case \"months\": filterMonthsData(); break;\n            default: break;\n        }\n    }\n\n    const filterMinutesData = () => {\n        const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), state.minDate.getHours(), state.minDate.getMinutes(), 0, 0);\n        const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), state.maxDate.getHours(), state.maxDate.getMinutes(), 0, 0);\n\n        const periods = Math.ceil((finalData - initialData) / 600000);\n\n        var newFirstData = [];\n        var newSecondData = [];\n        var newLabels = [];\n        var newFirstMaxY = 0;\n        var total = 0;\n\n        const filter = (value, year, month, day, hour, minute) => {\n            return state.events.filter(el => (el.eventType === value && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month &&\n                                              el.createdAt.getDate() === day && (el.createdAt.getHours() * 60 + el.createdAt.getMinutes() < hour * 60 + minute)));\n        }\n\n        for (var i = 0; i < periods; i++) {\n            var year = state.minDate.getFullYear();\n            var month = state.minDate.getMonth();\n            var day = state.minDate.getDate();\n            var hour = state.minDate.getHours();\n            var minute = state.minDate.getMinutes() + 10 * i;\n            var date = new Date(year, month, day, hour, minute, 0, 0);\n            year = date.getFullYear();\n            month = date.getMonth();\n            day = date.getDate();\n            hour = date.getHours();\n            minute = date.getMinutes();\n\n            var minuteString = minute.toString();\n            if (minute < 10)\n                minuteString = \"0\" + minuteString;\n            newLabels.push(hour.toString() + \":\" + minuteString);\n\n            const exits = filter(\"exit\", year, month, day, hour, minute);\n            minute += 10;\n            if (minute >= 60) {\n                hour += 1;\n                minute = minute % 60;\n            }\n            const entrys = filter(\"entry\", year, month, day, hour, minute);\n            const numberEvents = entrys.length - exits.length;\n            newFirstData.push({ x: i, y: numberEvents });\n            \n            total = entrys.length;\n            newSecondData.push({ x: i, y: total });\n\n            if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n        }\n\n        setState({...state, firstData: newFirstData, secondData: newSecondData, labels: newLabels, firstMaxY: newFirstMaxY + 1, secondMaxY: total + 1});\n    }\n\n    const filterHoursData = () => {\n        const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), state.minDate.getHours(), 0, 0, 0);\n        const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), state.maxDate.getHours(), 1, 0, 0);\n\n        const periods = Math.ceil((finalData - initialData) / 3600000);\n\n        var newFirstData = [];\n        var newSecondData = [];\n        var newLabels = [];\n        var newFirstMaxY = 0;\n        var total = 0;\n        \n        const filter = (value, year, month, day, hour) => {\n            return state.events.filter(el => (el.eventType === value && el.createdAt.getFullYear() === year &&\n                                              el.createdAt.getMonth() === month && el.createdAt.getDate() === day && el.createdAt.getHours() < hour));\n        }\n\n        for (var i = 0; i < periods; i++) {\n            var year = state.minDate.getFullYear();\n            var month = state.minDate.getMonth();\n            var day = state.minDate.getDate();\n            var hour = state.minDate.getHours() + i;\n            var date = new Date(year, month, day, hour, 0, 0, 0);\n            year = date.getFullYear();\n            month = date.getMonth();\n            day = date.getDate();\n            hour = date.getHours();\n\n            const exits = filter(\"exit\", year, month, day, hour);\n            const entrys = filter(\"entry\", year, month, day, hour + 1);\n            const numberEvents = entrys.length - exits.length;\n            newFirstData.push({ x: i, y: numberEvents });\n            newLabels.push(hour.toString() + \":00\");\n\n            total = entrys.length;\n            newSecondData.push({ x: i, y: total });\n\n            if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n        }\n\n        setState({...state, firstData: newFirstData, secondData: newSecondData, labels: newLabels, firstMaxY: newFirstMaxY + 1, secondMaxY: total + 1});\n    }\n\n    const filterDaysData = () => {\n        const initialData = new Date(state.minDate.getFullYear(), state.minDate.getMonth(), state.minDate.getDate(), 0, 0, 0, 0);\n        const finalData = new Date(state.maxDate.getFullYear(), state.maxDate.getMonth(), state.maxDate.getDate(), 1, 0, 0, 0);\n\n        const periods = Math.ceil((finalData - initialData) / 86400000);\n\n        var newFirstData = [];\n        var newSecondData = [];\n        var newLabels = [];\n        var newFirstMaxY = 0;\n        var total = 0;\n\n        const filter = (year, month, day) => {\n            return state.events.filter(el => (el.eventType === \"entry\" && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month && el.createdAt.getDate() === day));\n        }\n\n        for (var i = 0; i < periods; i++) {\n            var year = state.minDate.getFullYear();\n            var month = state.minDate.getMonth();\n            var day = state.minDate.getDate() + i;\n            var date = new Date(year, month, day);\n            year = date.getFullYear();\n            month = date.getMonth();\n            day = date.getDate();\n\n            const newEvents = filter(year, month, day);\n            const numberEvents = newEvents.length;\n            newFirstData.push({ x: i, y: numberEvents });\n            newLabels.push(day.toString() + \" de \" + monthName[month]);\n            \n            total += numberEvents;\n            newSecondData.push({ x: i, y: total });\n\n            if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n        }\n\n        setState({...state, firstData: newFirstData, secondData: newSecondData, labels: newLabels, firstMaxY: newFirstMaxY + 1, secondMaxY: total + 1});\n    }\n\n    const filterMonthsData = () => {\n        const periods = (state.maxDate.getFullYear() - state.minDate.getFullYear()) * 12 + (state.maxDate.getMonth() - state.minDate.getMonth()) + 1;\n\n        var newFirstData = [];\n        var newSecondData = [];\n        var newLabels = [];\n        var newFirstMaxY = 0;\n        var total = 0;\n\n        const filter = (year, month) => {\n            return state.events.filter(el => (el.eventType === \"entry\" && el.createdAt.getFullYear() === year && el.createdAt.getMonth() === month));\n        }\n\n        for (var i = 0; i < periods; i++) {\n            var year = state.minDate.getFullYear();\n            var month = state.minDate.getMonth() + i;\n            if (month >= 12) {\n                year += Math.floor(month / 12);\n                month = month % 12;\n            }\n\n            const newEvents = filter(year, month);\n            const numberEvents = newEvents.length;\n            newFirstData.push({ x: i, y: numberEvents });\n            newLabels.push(monthName[month] + \" de \" + year.toString());\n\n            total += numberEvents;\n            newSecondData.push({ x: i, y: total });\n\n            if (numberEvents > newFirstMaxY) newFirstMaxY = numberEvents;\n        }\n\n        setState({...state, firstData: newFirstData, secondData: newSecondData, labels: newLabels, firstMaxY: newFirstMaxY + 1, secondMaxY: total + 1});\n    }\n\n    return (\n        <>\n        <Text><span>Selecionar perÃ­odo de visualizaÃ§Ã£o:</span></Text>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <KeyboardDateTimePicker \n                variant=\"inline\" ampm={false}\n                label=\"Limite inferior\"\n                value={state.minDate} format=\"dd/MM/yyyy HH:mm\"\n                onChange={handleMinDate} disableFuture\n            />\n            <KeyboardDateTimePicker \n                variant=\"inline\" ampm={false}\n                label=\"Limite superior\"\n                value={state.maxDate} format=\"dd/MM/yyyy HH:mm\"\n                onChange={handleMaxDate} disableFuture minDate={state.minDate}\n            />\n        </MuiPickersUtilsProvider>\n        \n        <Button className=\"updateStatistics\" onClick={handleUpdate}>Atualizar</Button>\n\n        <Section>\n            <TextSection><span>GrÃ¡ficos</span></TextSection>\n            <button onClick={() => {setState({...state, graphsExplanation: !state.graphsExplanation})}}>?</button>\n        </Section>\n\n        {state.graphsExplanation ?\n        \n        <><SubText>O primeiro grÃ¡fico mostra a quantidade de clientes em cada perÃ­odo de tempo, enquanto o segundo mostra o acumulado dessa quantidade ao longo do tempo.</SubText>\n        <SubText>O tamanho dos perÃ­odos Ã© calculado automaticamente a partir do intervalo de visualizaÃ§Ã£o definido. Para intervalos de atÃ© 2 horas, os perÃ­odos sÃ£o de 10 minutos; para atÃ© 1 dia, sÃ£o de 1 hora. Nesses casos, o primeiro grÃ¡fico mostra a quantidade de clientes dentro da loja em cada momento. Para intervalos de atÃ© 2 meses, os perÃ­odos sÃ£o de 1 dia; para intervalos maiores, sÃ£o de 1 mÃªs. Nesses casos, o primeiro grÃ¡fico mostra a quantidade de clientes que passaram pela loja no perÃ­odo.</SubText></>\n    \n        : <></>}\n\n        <AllGraphSection>\n            <GraphSection>\n                <Text>Quantidade de clientes por perÃ­odo</Text>\n                <XYPlot\n                    width={550} height={400} margin={{ left: 80, bottom: 100 }}\n                    yDomain={[0, state.firstMaxY]}\n                >\n                    <XAxis \n                        title={'PerÃ­odo'} on0={true}\n                        tickTotal={state.firstData.length} tickLabelAngle={-45}\n                        tickFormat={v => state.labels[v]}\n                        style={{ text: { stroke: 'none', fill: '#555555', fontWeight: 200 },\n                                    line: { stroke: '#aaaaaa' } }}\n                    />\n                    <YAxis \n                        title={'Clientes'} on0={true}\n                        style={{ text: { stroke: 'none', fill: '#555555', fontWeight: 200 },\n                                    line: { stroke: '#aaaaaa' }}}\n                    />\n                    <LineMarkSeries \n                        className=\"series\" data={state.firstData} \n                        style={{ strokeWidth: '3px' }} size={2}\n                        lineStyle={{ stroke: '#000066' }} markStyle={{ stroke: '#009999' }}\n                        onValueMouseOver={d => setState({...state, overFirstGraph: d})}\n                        onValueMouseOut={d => setState({...state, overFirstGraph: false})}\n                    />\n                    {state.overFirstGraph && \n                    <Hint value={state.overFirstGraph}>\n                        <HintDiv>\n                            <p><span>PerÃ­odo:</span> {state.labels[state.overFirstGraph.x]}</p>\n                            <p><span>Total de clientes:</span> {state.overFirstGraph.y}</p>\n                        </HintDiv>\n                    </Hint>}\n                </XYPlot>\n            </GraphSection>\n\n            <GraphSection>\n                <Text>Quantidade acumulada de clientes</Text>\n                <XYPlot \n                    width={550} height={400} margin={{ left: 80, bottom: 100 }}\n                    yDomain={[0, state.secondMaxY]}\n                >\n                    <XAxis \n                        title={'PerÃ­odo'} on0={true}\n                        tickTotal={state.secondData.length} tickLabelAngle={-45}\n                        tickFormat={v => state.labels[v]}\n                        style={{ text: { stroke: 'none', fill: '#555555', fontWeight: 200 },\n                                    line: { stroke: '#aaaaaa' } }}\n                    />\n                    <YAxis \n                        title={'Clientes'} on0={true}\n                        style={{ text: { stroke: 'none', fill: '#555555', fontWeight: 200 },\n                                    line: { stroke: '#aaaaaa' }}}\n                    />\n                    <LineMarkSeries \n                        className=\"series\" data={state.secondData} \n                        style={{ strokeWidth: '3px' }} size={2}\n                        lineStyle={{ stroke: '#000066' }} markStyle={{ stroke: '#009999' }}\n                        onValueMouseOver={d => setState({...state, overSecondGraph: d})}\n                        onValueMouseOut={d => setState({...state, overSecondGraph: false})}\n                    />\n                    {state.overSecondGraph && \n                    <Hint value={state.overSecondGraph}>\n                        <HintDiv>\n                            <p><span>PerÃ­odo:</span> {state.labels[state.overSecondGraph.x]}</p>\n                            <p><span>Total de clientes acumulado:</span> {state.overSecondGraph.y}</p>\n                        </HintDiv>\n                    </Hint>}\n                </XYPlot>\n            </GraphSection>\n        </AllGraphSection>\n\n        <Text><span>Tabelas</span></Text>\n\n\n        <Text><span>Indicadores</span></Text>\n\n        {console.log(state)}\n        </>\n    );\n}\n\nexport default Statistics;"]},"metadata":{},"sourceType":"module"}